---
title: 매크로 -1
# categories:
#   - Blog
tags: [rust]

# toc: true
# toc_sticky: true
# toc_label: "페이지 목차"
---

## 기본

* syntax

```rust
macro_rules! macro_name {
    ( pattern1 ) => { template1 }
    ( pattern1 ) => { template2 }    
}
```

* argument와 designator

```rust
macro_rules! print_message {
    // "&msg"는 argument
    // "expr"는 designator
    // expr는 expression을 의미한다
    ($msg:expr) => {
        println!("{}", $msg)
    };
}

fn main() {
    print_message!("I am learning Rust!");
}
```

* ident designator: 변수와 함수 이름에 사용

```rust
macro_rules! create_function {
    ($func_name:ident) => {
        fn $func_name() {
            println!("You called {:?}()", stringify!($func_name));
        }
    };
}

create_function!(foo);

fn main() {
    foo();
}
```